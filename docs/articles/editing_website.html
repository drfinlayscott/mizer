<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Editing the mizer website • mizer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Editing the mizer website">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mizer.html">Get Started</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/publications.html">Publications</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/gustavdelius/mizer">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Editing the mizer website</h1>
            
            <h4 class="date">2019-03-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sizespectrum/mizer/blob/master/vignettes/editing_website.Rmd"><code>vignettes/editing_website.Rmd</code></a></small>
      <div class="hidden name"><code>editing_website.Rmd</code></div>

    </div>

    
    
<div id="website-built-from-package-documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#website-built-from-package-documentation" class="anchor"></a>Website built from package documentation</h2>
<p>The mizer website at [<a href="http://gustavdelius.github.io/mizer/" class="uri">http://gustavdelius.github.io/mizer/</a>] is created programmatically from the documentation included in the mizer github repository. Thus to edit the website just means editing this documentation. The website creation is performed by the <a href="https://pkgdown.r-lib.org/index.html"><code>pkgdown</code></a> package. You can trigger a build in your local repository by issuing the command</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">pkgdown<span class="op">::</span><span class="kw"><a href="https://pkgdown.r-lib.org/reference/build_site.html">build_site</a></span>()</a></code></pre></div>
<p>This will convert all existing documentation into html files and put these into the <code>docs</code> subdirectory of your mizer directory. In detail:</p>
<ol style="list-style-type: decimal">
<li><p>All .Rmd files in the <code>vignettes</code> subdirectory (and its subdirectories, if any) will produce html files of the same name in <code>docs/articles</code>.</p></li>
<li><p>All .Rd documentation files in <code>man</code> will produce html files of the same name in <code>docs/reference</code>.</p></li>
<li><p>The <code>NEWS</code> file will be converted to <code>docs/news/index.html</code></p></li>
<li><p>The index.md file will be converted to <code>docs/index.html</code>.</p></li>
</ol>
<p>Then the package will use the information in the <code>_pkgdown.yml</code> file to create a navbar and index pages. The navbar is configured with</p>
<pre><code>navbar:
  title: "mizer"
  left:
    - icon: fa-home fa-lg
      href: index.html
    - text: "Get Started"
      href: articles/mizer.html
    - text: "Articles"
      href: articles/index.html
    - text: "Reference"
      href: reference/index.html
    - text: "Publications"
      href: articles/publications.html
    - text: "Changelog"
      href: news/index.html
  right:
    - icon: fa-github fa-lg
      href: https://github.com/gustavdelius/mizer</code></pre>
<p>This is quite self-explanatory, specifying the order of the navbar entries, their text and link destination, and whether they are on the left or right side. It is clearly easy to add additional navbar entires. It would be possible to also include drop-down items in navbar. See the <a href="https://pkgdown.r-lib.org/articles/pkgdown.html#navigation-bar">pkgdown documentation</a> for more details.</p>
<p>The file <code>docs/articles/index.html</code> is created according to the article: section in the <code>_pkgdown_yml</code> file. At an early stage it looked as follows:</p>
<pre><code>articles:
- title: User Guides
  contents:
  - model_description
- title: Developer Guides
  contents:
  - developer_vignette
  - mathematical_details</code></pre>
<p>By now it will have more entries to link to more vignettes. But of course it is not necessary to use this index file. The menu entry could just as well point to a more elaborate file created from an .Rmd file in the vignette subdirecty.</p>
<p>The file <code>docs/reference/index.html</code> is created according to the reference: section in the <code>_pkgdown_yml</code> file, with a similar syntax as the article: section.</p>
</div>
<div id="changing-page-content" class="section level2">
<h2 class="hasAnchor">
<a href="#changing-page-content" class="anchor"></a>Changing page content</h2>
<p>At the top of every page on the website, except the homepage, there is a link to the page source. So it is easy to know which file to edit to make changes to a page. If you want to rebuild the website after making a change to a single page you may not want to re-build everything. You can rebuild just a single vignette. For example to rebuild this page after editing the vignette <code>vignette/editing_website.Rmd</code> you can call</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">pkgdown<span class="op">::</span><span class="kw"><a href="https://pkgdown.r-lib.org/reference/build_articles.html">build_article</a></span>(<span class="st">"editing_website"</span>)</a></code></pre></div>
<p>To rebuild the reference pages after changing the roxygen code doc you can run</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">pkgdown<span class="op">::</span><span class="kw"><a href="https://pkgdown.r-lib.org/reference/build_reference.html">build_reference</a></span>()</a></code></pre></div>
<p>To change the homepage you edit index.md. This file is very similar to README.md that is used on the mizer homepage on github, but can contain extra content like embedded videos that the github homepage does not support. After changes to index.md you can update your local copy of the website with</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">pkgdown<span class="op">::</span><span class="kw"><a href="https://pkgdown.r-lib.org/reference/build_home.html">build_home</a></span>()</a></code></pre></div>
<p>Of course these changes will affect only your local copy of the website. To get those changes reflected on the online site you will need to make a pull request for your changed files against the master branch of the upstream repository.</p>
<p>Note that you should <strong>not</strong> commit the files from the <code>docs</code> directory. You should only commit the changes to the source files. Once your pull request is accepted, the html files in the <code>docs</code> directory are automatically recreated, as we will explain next. You may therefore want to add the <code>docs</code> directory to your <code>.gitignore</code> file.</p>
</div>
<div id="github-pages" class="section level2">
<h2 class="hasAnchor">
<a href="#github-pages" class="anchor"></a>Github pages</h2>
<p>The website is hosted with <a href="https://pages.github.com/">GitHubPages</a>. In the settings pages of the mizer repository on github the source is set to “gh-pages branch”. This branch contains all the website pages, as you can see at [<a href="https://github.com/gustavdelius/mizer/tree/gh-pages" class="uri">https://github.com/gustavdelius/mizer/tree/gh-pages</a>], and nothing else.</p>
<p>You should never push anything to this gh-pages branch directly. Instead these files are created automatically by Travis-CI each time it has completed a successful test-build of the package. Such a test build is automatically created whenever something is pushed to the master branch or a github pull request is merged into the master branch. This is set up in the <code>.travis.yml</code> configuration file. This is described on this [r-bloggers page]<a href="https://www.r-bloggers.com/continuous-deployment-of-package-documentation-with-pkgdown-and-travis-ci/" class="uri">https://www.r-bloggers.com/continuous-deployment-of-package-documentation-with-pkgdown-and-travis-ci/</a>).</p>
</div>
<div id="search-bar" class="section level2">
<h2 class="hasAnchor">
<a href="#search-bar" class="anchor"></a>Search bar</h2>
<p>The search bar on the website is powered by Docsearch from Algolia. This is a free service for open-source projects. The set-up is explained in the <a href="https://pkgdown.r-lib.org/articles/pkgdown.html#search">pkgdown documentation</a>.</p>
</div>
<div id="embedding-videos" class="section level2">
<h2 class="hasAnchor">
<a href="#embedding-videos" class="anchor"></a>Embedding videos</h2>
<p>It is easy to embed videos into a webpage by putting an iframe into the Rmarkdown source file. For example putting the line</p>
<pre><code>&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/0RlXqLbFbWc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;</code></pre>
<p>into the source of this page produced the following embedded video:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/0RlXqLbFbWc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Note that the github site itself (as opposed to GitHub Pages) does not support embedded videos. That is why we have the website homepage in index.md and the github homepage in README.md.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#website-built-from-package-documentation">Website built from package documentation</a></li>
      <li><a href="#changing-page-content">Changing page content</a></li>
      <li><a href="#github-pages">Github pages</a></li>
      <li><a href="#search-bar">Search bar</a></li>
      <li><a href="#embedding-videos">Embedding videos</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Finlay Scott, Julia Blanchard, Ken Andersen, Gustav Delius.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'de91577b2f58755afaa137388a513a88',
    indexName: 'mizer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
