<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The General Mizer Size-spectrum Model • mizer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="The General Mizer Size-spectrum Model">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mizer.html">Get Started</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/publications.html">Publications</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/gustavdelius/mizer">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>The General Mizer Size-spectrum Model</h1>
            
      
      <small class="dont-index"><a href="https://github.com/gustavdelius/mizer/edit/master/vignettes/model_description.Rmd">Edit this page.  </a> Source: <a href="https://github.com/gustavdelius/mizer/blob/master/vignettes/model_description.Rmd"><code>vignettes/model_description.Rmd</code></a></small>
      <div class="hidden name"><code>model_description.Rmd</code></div>

    </div>

    
    
<p>On this page we will revisit the presentation of the mizer model given in chapter 3 of the main <a href="https://cran.r-project.org/web/packages/mizer/vignettes/mizer_vignette.pdf">mizer vignette</a> but taking care to separate the essential features of the model that are hard-coded and the various possible specialisations for which mizer provides setup functions. We will provide links to the functions that can be used to set or change the various model parameters (all collected together in <code><a href="../reference/setParams.html">setParams()</a></code>) as well as to the functions that calculate the various ecological rates in the model (all collected together in <code><a href="../reference/getRates.html">getRates()</a></code>) because the help pages of these functions will provide useful additional details.</p>
We will not go into detail of how this model is realised in code. Such detail will be provided in the <a href="developer_vignette.html">developer guide</a>. However some details are hidden on this page and you can see them by clicking on links like the following:
<details>
And clicking again will hide the details again.
</details><div id="consumer-size-spectra" class="section level2">
<h2 class="hasAnchor">
<a href="#consumer-size-spectra" class="anchor"></a>Consumer size spectra</h2>
<p>The model framework builds on two central assumption and a number of lesser standard assumption.</p>
<p>The first central assumption is that an individual can be characterized by its weight <span class="math inline">\(w\)</span> and its species number <span class="math inline">\(i\)</span> only. The aim of the model is to calculate the size spectrum <span class="math inline">\(N_i(w)\)</span>, which is the <em>density</em> of individuals of species <span class="math inline">\(i\)</span> such that <span class="math inline">\(\int_w^{w+dw}N_i(w)dw\)</span> is the <em>number</em> of individuals of species <span class="math inline">\(i\)</span> in the size interval <span class="math inline">\([w,w+dw]\)</span>. In other word: the number of individuals in a size range is the area under the number density <span class="math inline">\(N_i(w)\)</span>.</p>
<details><p>Here is a plot of an example size spectrum for two species with <span class="math inline">\(N_i(w)\)</span> on the vertical axis for <span class="math inline">\(i=1,2\)</span> and <span class="math inline">\(w\)</span> on the horizontal axis.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(mizer)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">params &lt;-<span class="st"> </span><span class="kw"><a href="../reference/set_scaling_model.html">set_scaling_model</a></span>(<span class="dt">no_sp =</span> <span class="dv">2</span>, <span class="dt">min_egg =</span> <span class="fl">1e-3</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="../reference/plotSpectra.html">plotSpectra</a></span>(params, <span class="dt">plankton =</span> <span class="ot">FALSE</span>, <span class="dt">power =</span> <span class="dv">0</span>)</a></code></pre></div>
<p><img src="model_description_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
<p>To represent this continuous size spectrum in the computer, the size variable <span class="math inline">\(w\)</span> is discretized into a vector <code>w</code> of discrete weights, providing a grid of sizes spanning the range from the smallest egg size to the largest asymptotic size. These grid values divide the full size range into a finite number of size bins. The size bins should be chosen small enough to avoid the discretisation errors from becoming too big.</p>
<p>The weight grid is set up to be logarithmically spaced, so that <code>w[j]=w[1]*exp(j*dx)</code> for some fixed <code>dx</code>. This grid is set up automatically when creating a MizerParams object.</p>
<p>In the code the size spectrum is stored as an array such that <code>n[i, a]</code> holds the density <span class="math inline">\(N_i(w_a)\)</span> at weights <span class="math inline">\(w_a=\)</span><code>w[a]</code>, or, if time dependence is included, an array such that <code>n[i, a, u]</code> holds <span class="math inline">\(N_i(w_a,t_u)\)</span>.</p>
<p>Note that, contrary to what one might have expected, <code>n[i, a]</code> is not the <em>number</em> of individuals in a size bin but the <em>density</em> at a grid point. The number of individuals in the size bin between <code>w[a]</code> and <code>w[a+1]=w[a]+dw[a]</code> is only approximately given as <code>n[i, a]*dw[a]</code>, where <code>dw[a]= w[a+1]-w[a]</code>.</p>
</details><p>The time evolution of the size spectrum is described by the McKendrik-von Foerster equation, which is a continuity equation with loss:</p>
<p><span class="math display">\[\begin{equation}
  \label{eq:MvF}
  \frac{\partial N_i(w)}{\partial t} + \frac{\partial g_i(w) N_i(w)}{\partial w} 
  = -\mu_i(w) N_i(w),
\end{equation}\]</span></p>
<p>where individual growth <span class="math inline">\(g_i(w)\)</span> and mortality <span class="math inline">\(\mu_i(w)\)</span> will be described below.</p>
<details><p>This McKendrik-von Foerster equation is approximated in mizer by a finite-difference method (to be described in section …). This allows the <code><a href="../reference/project.html">project()</a></code> method in mizer to project the size spectrum forwards in time: Given the spectrum at one time the <code><a href="../reference/project.html">project()</a></code> method calculates it at a set of later times.</p>
</details><p>The McKendrik-von Foerster equation is supplemented by a boundary condition at the egg weight <span class="math inline">\(w_0\)</span> where the flux of individuals (numbers per time) <span class="math inline">\(g_i(w_0)N_i(w_0)\)</span> is determined by the rate <span class="math inline">\(R_i\)</span> of production of offspring by mature individuals in the population: <span class="math display">\[\begin{equation}
  g_i(w_0)N_i(w_0) = R_i.
\end{equation}\]</span></p>
<details><p>In the code this boundary condition is actually implemented as an equation for the rate of change of the number of individuals in the smallest size bin: <span class="math display">\[\begin{equation}
\frac{dN_i(w_0)}{dt}=...
\end{equation}\]</span></p>
</details>
</div>
<div id="resource-size-spectrum" class="section level2">
<h2 class="hasAnchor">
<a href="#resource-size-spectrum" class="anchor"></a>Resource size spectrum</h2>
<p>Besides the fish spectrum there is also a resource spectrum <span class="math inline">\(N_R(w)\)</span>, representing for example the phytoplankton. This spectrum starts at a smaller size than the fish spectrum, in order to provide food also for the smallest individuals (larvae) of the fish spectrum.</p>
<p>By default the time evolution of the resource spectrum is described by a semi-chemostat equation: <span class="math display">\[\begin{equation}
  \label{eq:nb}
  \frac{\partial N_R(w,t)}{\partial t} 
  = r_p(w) \Big[ c_p (w) - N_R(w,t) \Big] - \mu_p(w) N_R(w,t).
\end{equation}\]</span> Here <span class="math inline">\(r_p(w)\)</span> is the plankton regeneration rate and <span class="math inline">\(c_p(w)\)</span> is the carrying capacity in the absence of predation. These parameters are set with <code><a href="../reference/setPlankton.html">setPlankton()</a></code>. By default mizer assumes allometric forms <span class="math display">\[r_p(w)= r_p\, w^{n-1}.\]</span> <span class="math display">\[c_p(w)=\kappa\, w^{-\lambda}.\]</span> It is also possible to implement other plankton dynamics, as described in the help page for <code><a href="../reference/setPlankton.html">setPlankton()</a></code>. The death <span class="math inline">\(\mu_p(w)\)</span> is described in the subsection <a href="#plankton-mortality">Plankton mortality</a>.</p>
<details><p>Because the plankton spectrum spans a different range of sizes these sizes are discretized into a different vector of weights <code>w_full</code>. The last entries of <code>w_full</code> have to coincide with the entries of <code>w</code>. The resource spectrum is then stored in a vector <code>n_pp</code> such that <code>n_pp[c]</code> =<span class="math inline">\(N_R(\)</span><code>w_full[c]</code><span class="math inline">\()\)</span>.</p>
<p>The plankton regeneration rate is stored as a vector <code>params@rr_pp[c]</code><span class="math inline">\(=r_p(\)</span><code>w_full[c]</code><span class="math inline">\()\)</span>, and the carrying capacity is stored as a vector <code>params@cc_pp[c]</code><span class="math inline">\(=c_p(\)</span><code>w_full[c]</code><span class="math inline">\()\)</span>.</p>
</details>
</div>
<div id="sec:pref" class="section level2">
<h2 class="hasAnchor">
<a href="#sec:pref" class="anchor"></a>Predator-prey encounter rate</h2>
<p>The rate at which a predator of species <span class="math inline">\(i\)</span> and weight <span class="math inline">\(w\)</span> encounters food (mass per time) is determined by summing over all prey species and the resource spectrum and integrating over all prey sizes <span class="math inline">\(w_p\)</span>, weighted by the selectivity factors: <span class="math display">\[\begin{equation}
  \label{eq:1}
  E_{i}(w) = \gamma_i(w) \int \left(\sum_{j} \theta_{ij} N_j(w_p) +
   \theta_{ip} N_R(w_p) + \right) 
  \phi_i(w,w_p) w_p \, dw_p.
\end{equation}\]</span> This is calculated by <code><a href="../reference/getEncounter.html">getEncounter()</a></code>. The overall prefactor <span class="math inline">\(\gamma_i(w)\)</span> sets the predation power of the predator. It could be interpreted as a search volume. It is set by <code><a href="../reference/setSearchVolume.html">setSearchVolume()</a></code>. By default it is assumed to scale allometrically as <span class="math inline">\(\gamma_i(w) = \gamma_i\, w^q.\)</span></p>
<p>The <span class="math inline">\(\theta\)</span> matrix sets the interaction strength between predators and the various prey species and plankton. It is set with <code><a href="../reference/setInteraction.html">setInteraction()</a></code>.</p>
<p>The size selectivity is encoded in the predation kernel <span class="math inline">\(\phi_i(w,w_p)\)</span>. This is set with <code><a href="../reference/setPredKernel.html">setPredKernel()</a></code>.</p>
<details><p>An important simplification occurs when the predation kernel <span class="math inline">\(\phi_i(w,w_p)\)</span> depends on the size of the prey <strong>only</strong> through the predator/prey size ratio <span class="math inline">\(w_p/w\)</span>, <span class="math display">\[\phi_i(w, w_p)=\tilde{\phi}_i(w/w_p).\]</span> This is assumed by default but can be overruled. The default for the predation kernel is the truncated log-normal function <span class="math display">\[
  \label{eq:4}
  \tilde{\phi}_i(x) = \begin{cases}
  \exp \left[ \dfrac{-(\ln(x / \beta_i))^2}{2\sigma_i^2} \right]
  &amp;\text{ if }x\in\left[0,\beta_i\exp(3\sigma_i)\right]\\
  0&amp;\text{ otherwise,}
  \end{cases}
\]</span> where <span class="math inline">\(\beta_i\)</span> is the preferred predator-prey mass ratio and <span class="math inline">\(\sigma_i\)</span> sets the width of the predation kernel.</p>
<p>The integral in the expression for the encounter rate is approximated by a Riemann sum over all weight brackets: <span class="math display">\[
{\tt encounter}[i,a] = {\tt search\_vol}[i,a]\sum_{k}
\left( n_{pp}[k] + \sum_{j} \theta[i,j] n[j,k] \right) 
  \phi_i\left(w[a],w[k]\right) w[k]\, dw[k].
\]</span> In the case of a predation kernel that depends on <span class="math inline">\(w/w_p\)</span> only, this becomes a convolution sum and can be evaluated efficiently via fast Fourier transform.</p>
</details>
</div>
<div id="consumption" class="section level2">
<h2 class="hasAnchor">
<a href="#consumption" class="anchor"></a>Consumption</h2>
<p>The encountered food is consumed subjected to a standard Holling functional response type II to represent satiation. This determines the <em>feeding level</em> <span class="math inline">\(f_i(w)\)</span>, which is a dimensionless number between 0 (no food) and 1 (fully satiated) so that <span class="math inline">\(1-f_i(w)\)</span> is the proportion of the encountered food that is consumed. The feeding level is given by</p>
<p><span class="math display">\[\begin{equation}
  \label{eq:f}
  f_i(w) = \frac{E_{i}(w)}{E_{e.i}(w) + h_i(w)},
\end{equation}\]</span></p>
<p>where <span class="math inline">\(h_i(w)\)</span> is the maximum consumption rate. This is set with <code><a href="../reference/setIntakeMax.html">setIntakeMax()</a></code>. By default mizer assumes an allometric form <span class="math inline">\(h_i(w) = h_i\, w^n.\)</span> The feeding level is calculated with the function <code><a href="../reference/getFeedingLevel.html">getFeedingLevel()</a></code>.</p>
<p>The rate at which food is consumed is then <span class="math display">\[\begin{equation}
(1-f_i(w))E_{i}(w)=f_i(w)\, h_i(w).
\end{equation}\]</span></p>
</div>
<div id="metabolic-losses" class="section level2">
<h2 class="hasAnchor">
<a href="#metabolic-losses" class="anchor"></a>Metabolic losses</h2>
<p>Some of the consumed food is used to fuel the needs for metabolism and activity and movement, at a rate <span class="math inline">\({\tt metab}_i(w)\)</span>. By default this is made up out of standard metabolism, scaling with exponent <span class="math inline">\(p\)</span>, and loss due to activity and movement, scaling with exponent <span class="math inline">\(1\)</span>: <span class="math display">\[{\tt metab}_i(w) = k_{s.i}\,w^p + k_i\,w.\]</span> See the help page for <code><a href="../reference/setMetab.html">setMetab()</a></code>.</p>
<p>The remaining rate, if any, is assimilated with an efficiency <span class="math inline">\(\alpha_i\)</span> and is then available for growth and reproduction. So the rate at which energy becomes available for growth and reproduction is <span class="math display">\[\begin{equation}
  \label{eq:Er}
  E_{r.i}(w) = \max(0, \alpha_i f_i(w)\, h_i(w) - {\tt metab}_i(w))
\end{equation}\]</span> This is calculated with the <code><a href="../reference/getEReproAndGrowth.html">getEReproAndGrowth()</a></code> function.</p>
</div>
<div id="sec:repro" class="section level2">
<h2 class="hasAnchor">
<a href="#sec:repro" class="anchor"></a>Investment into reproduction</h2>
<p>A proportion <span class="math inline">\(\psi_i(w)\)</span> of the energy available for growth and reproduction is used for reproduction. This proportion should change from zero below the weight <span class="math inline">\(w_{m.i}\)</span> of maturation to one at the asymptotic weight <span class="math inline">\(w_{\infty.i}\)</span>, where all available energy is used for reproduction. This function is set with <code><a href="../reference/setReproduction.html">setReproduction()</a></code>. Mizer provides a default form for the function which you can however overrule.</p>
<p>The total production rate of egg production <span class="math inline">\(R_{p.i}\)</span> (numbers per year) is found by integrating the contribution from all individuals of species <span class="math inline">\(i\)</span>: <span class="math display">\[\begin{equation}
  \label{eq:Rp}
  R_{p.i} = \frac{\epsilon}{2 w_0} \int N_i(w)  E_{r.i}(w) \psi_i(w) \, dw,
\end{equation}\]</span> where the individual contribution is obtained by multiplying the rate at which the individual allocates energy to reproduction by an efficiency factor <span class="math inline">\(\epsilon\)</span> and then dividing by the egg weight <span class="math inline">\(w_0\)</span> to convert the energy into number of eggs. The result is multiplied by a factor <span class="math inline">\(1/2\)</span> to take into account that only females reproduce.</p>
</div>
<div id="recruitment" class="section level2">
<h2 class="hasAnchor">
<a href="#recruitment" class="anchor"></a>Recruitment</h2>
<p>In mizer, density dependence is modelled as a compensation on the egg production. This can be considered as the stock-recruitment relationship (SRR). The default functional form is such that the recruitment flux <span class="math inline">\(R_i\)</span> (numbers per time) approaches a maximum recruitment as the egg production increases, modelled mathematically analogous to the Holling type II function response as a <em>Beverton-Holt</em> type of SRR:</p>
<p><span class="math display">\[\begin{equation}
  \label{eq:R}
  R_i = R_{\max.i} \frac{R_{p.i}}{R_{p.i} + R_{\max.i}},
\end{equation}\]</span> where <span class="math inline">\(R_{\max.i}\)</span> is the maximum recruitment flux of each trait class (Figure~).</p>
<p>The <em>Beverton-Holt</em> type of SRR is not the only density dependence model that mizer can use. Users are able to write their own model so it is possible to set a range of SRRs, e.g. fixed recruitment (as used in the community-type model) or <em>hockey-stick.</em></p>
</div>
<div id="growth" class="section level2">
<h2 class="hasAnchor">
<a href="#growth" class="anchor"></a>Growth</h2>
<p>What is left over after metabolism and reproduction is taken into account is invested in somatic growth. Thus the growth rate is <span class="math display">\[\begin{equation}
  \label{eq:growth}
  g_i(w) = E_{r.i}(w)\left(1-\psi_i(w)\right).
\end{equation}\]</span> It is calculated by the <code><a href="../reference/getEGrowth.html">getEGrowth()</a></code> function.</p>
<p>When food supply does not cover the requirements of metabolism and activity, growth and reproduction stops, i.e. there is no negative growth. The individual should then be subjected to a starvation mortality, but starvation mortality is not implemented in mizer at the moment.</p>
</div>
<div id="mortality" class="section level2">
<h2 class="hasAnchor">
<a href="#mortality" class="anchor"></a>Mortality</h2>
<p>The mortality rate of an individual <span class="math inline">\(\mu_i(w)\)</span> has three sources: predation mortality <span class="math inline">\(\mu_{p.i}(w)\)</span>, background mortality <span class="math inline">\(\mu_{b.i}(w)\)</span> and fishing mortality <span class="math inline">\(\mu_{f.i}(w)\)</span>.</p>
<p>Predation mortality is calculated such that all that is eaten translates into corresponding predation mortalities on the ingested prey individuals. Recalling that <span class="math inline">\(1-f_j(w)\)</span> is the proportion of the food encountered by a predator of species <span class="math inline">\(j\)</span> and weight <span class="math inline">\(w\)</span> that is actually consumed, the rate at which all predators of species <span class="math inline">\(j\)</span> consume prey of size <span class="math inline">\(w_p\)</span> is <span class="math display">\[\begin{equation}
  \label{eq:pred_rated}
  {\tt pred\_rate}_j(w_p) = \int \phi_j(w,w_p) (1-f_j(w))
  \gamma_j(w) N_j(w) \, dw.
\end{equation}\]</span> This predation rate is calculated by the function <code><a href="../reference/getPredRate.html">getPredRate()</a></code>.</p>
<details><p>The integral is approximated by a Riemann sum over all fish weight brackets. <span class="math display">\[
{\tt pred\_rate}[j,c] = \sum_{a}
  {\tt pred_kernel}[j,a,c]\,(1-{\tt feeding_level}[j,a])\,
  \gamma[j,a]\,n[j,a]\,dw[a].
\]</span></p>
</details><p>The mortality rate due to predation is then obtained as <span class="math display">\[\begin{equation}
  \label{eq:mup}
  \mu_{p.i}(w_p) = \sum_j {\tt pred\_rate}_j(w_p)\, \theta_{ji}.
\end{equation}\]</span> This predation mortality rate is calculated by the function <code><a href="../reference/getPredMort.html">getPredMort()</a></code>.</p>
<p>Background mortality <span class="math inline">\(\mu_{b .i}(w)\)</span> is independent of the abundances and is set with <code><a href="../reference/setBMort.html">setBMort()</a></code>. By default mizer assumes an allometric form <span class="math display">\[\mu_{b.i}(w) = \mu_b w_{\infty.i}^{1-n},\]</span> where <span class="math inline">\(w_{\infty.i}\)</span> is the asymptotic size of species <span class="math inline">\(i\)</span>.</p>
<p>Fishing mortality <span class="math inline">\(\mu_{f.i}(w)\)</span> will be discussed in section <a href="#fishing">Fishing</a>.</p>
<p>The total mortality rate <span class="math display">\[\mu_i(w)=\mu_{p.i}(w)+\mu_{b.i}(w)+\mu_{f.i}(w)\]</span> is calculated with the function <code><a href="../reference/getMort.html">getMort()</a></code>.</p>
</div>
<div id="plankton-mortality" class="section level2">
<h2 class="hasAnchor">
<a href="#plankton-mortality" class="anchor"></a>Plankton Mortality</h2>
<p>The predation mortality rate on plankton is given by a similar expression as the predation mortality on fish: <span class="math display">\[\begin{equation}
  \label{eq:mupp}
  \mu_{p}(w_p) = \sum_j {\tt pred\_rate}_j(w_p)\, \theta_{jp}.
\end{equation}\]</span> This is the only mortality on plankton currently implemented in mizer. It is calculated with the function <code><a href="../reference/getPlanktonMort.html">getPlanktonMort()</a></code>.</p>
</div>
<div id="fishing" class="section level2">
<h2 class="hasAnchor">
<a href="#fishing" class="anchor"></a>Fishing</h2>
<p>This section still to be written.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#consumer-size-spectra">Consumer size spectra</a></li>
      <li><a href="#resource-size-spectrum">Resource size spectrum</a></li>
      <li><a href="#sec:pref">Predator-prey encounter rate</a></li>
      <li><a href="#consumption">Consumption</a></li>
      <li><a href="#metabolic-losses">Metabolic losses</a></li>
      <li><a href="#sec:repro">Investment into reproduction</a></li>
      <li><a href="#recruitment">Recruitment</a></li>
      <li><a href="#growth">Growth</a></li>
      <li><a href="#mortality">Mortality</a></li>
      <li><a href="#plankton-mortality">Plankton Mortality</a></li>
      <li><a href="#fishing">Fishing</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Finlay Scott, Julia Blanchard, Ken Andersen, Gustav Delius.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'de91577b2f58755afaa137388a513a88',
    indexName: 'mizer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
