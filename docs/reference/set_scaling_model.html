<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Sets up parameters for a scale free trait-based model — set_scaling_model • mizer</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Sets up parameters for a scale free trait-based model — set_scaling_model" />

<meta property="og:description" content="This functions creates a MizerParams object so that scale free
trait-based-type models can be easily set up and run. The scale free
trait-based size spectrum model can be derived as a simplification of the
general size-based model used in mizer. All the species-specific
parameters are the same for all species, except for the egg size, maturity
size and asymptotic size. These differ over the species, but the ratio of egg
size to maturity size and the ratio of egg size to asymptotic size are the
same for each species. The asymptotic sizes of the species are spread evenly
on a logarithmic scale. See the mizer vignette and the Details section
below for more details and examples of the scale free trait-based model." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mizer.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/a_multispecies_model_of_the_north_sea.html">A Multi-Species Model Of The North Sea</a>
    </li>
    <li>
      <a href="../articles/community_model.html">The Community Model</a>
    </li>
    <li>
      <a href="../articles/developer_vignette.html">Developer Guide</a>
    </li>
    <li>
      <a href="../articles/editing_website.html">Editing the Mizer Website</a>
    </li>
    <li>
      <a href="../articles/exploring_the_simulation_results.html">Exploring the Simulation Results</a>
    </li>
    <li>
      <a href="../articles/installation.html">Installing Mizer</a>
    </li>
    <li>
      <a href="../articles/mathematical_details.html">Mathematical Details behind Mizer</a>
    </li>
    <li>
      <a href="../articles/model_description.html">The General Mizer Size-spectrum Model</a>
    </li>
    <li>
      <a href="../articles/multispecies_model.html">The Multi Species Model</a>
    </li>
    <li>
      <a href="../articles/publications.html">Publications</a>
    </li>
    <li>
      <a href="../articles/running_a_simulation.html">Running a Simulation</a>
    </li>
    <li>
      <a href="../articles/scale_invariant_trait_based_model.html">The Scale-Invariant Trait-Based Model</a>
    </li>
    <li>
      <a href="../articles/trait_model.html">The Trait-Based Model</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/publications.html">Publications</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/gustavdelius/mizer">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sets up parameters for a scale free trait-based model</h1>
    <small class="dont-index"><a href='https://github.com/gustavdelius/mizer/edit/master/R/wrapper_functions.R'>Edit this page. &nbsp;</a> Source: <a href='https://github.com/gustavdelius/mizer/blob/master/R/wrapper_functions.R'><code>R/wrapper_functions.R</code></a></small>
    <div class="hidden name"><code>set_scaling_model.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This functions creates a <code>MizerParams</code> object so that scale free
trait-based-type models can be easily set up and run. The scale free
trait-based size spectrum model can be derived as a simplification of the
general size-based model used in <code>mizer</code>. All the species-specific
parameters are the same for all species, except for the egg size, maturity
size and asymptotic size. These differ over the species, but the ratio of egg
size to maturity size and the ratio of egg size to asymptotic size are the
same for each species. The asymptotic sizes of the species are spread evenly
on a logarithmic scale. See the <code>mizer</code> vignette and the Details section
below for more details and examples of the scale free trait-based model.</p>
    
    </div>

    <pre class="usage"><span class='fu'>set_scaling_model</span>(<span class='kw'>no_sp</span> <span class='kw'>=</span> <span class='fl'>11</span>, <span class='kw'>min_w_inf</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>max_w_inf</span> <span class='kw'>=</span> <span class='fl'>10</span>^<span class='fl'>3</span>,
  <span class='kw'>min_egg</span> <span class='kw'>=</span> <span class='fl'>10</span>^(-<span class='fl'>4</span>), <span class='kw'>min_w_mat</span> <span class='kw'>=</span> <span class='fl'>10</span>^(<span class='fl'>0.4</span>),
  <span class='kw'>no_w</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Log'>log10</a></span>(<span class='no'>max_w_inf</span>/<span class='no'>min_egg</span>) * <span class='fl'>100</span> + <span class='fl'>1</span>, <span class='kw'>min_w_pp</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>w_pp_cutoff</span> <span class='kw'>=</span> <span class='no'>min_w_inf</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>/<span class='fl'>3</span>, <span class='kw'>q</span> <span class='kw'>=</span> <span class='fl'>3</span>/<span class='fl'>4</span>, <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fl'>2</span> + <span class='no'>q</span> - <span class='no'>n</span>,
  <span class='kw'>r_pp</span> <span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='kw'>kappa</span> <span class='kw'>=</span> <span class='fl'>0.005</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.4</span>, <span class='kw'>ks</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>h</span> <span class='kw'>=</span> <span class='fl'>30</span>,
  <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>sigma</span> <span class='kw'>=</span> <span class='fl'>1.3</span>, <span class='kw'>f0</span> <span class='kw'>=</span> <span class='fl'>0.6</span>, <span class='kw'>knife_edge_size</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>gear_names</span> <span class='kw'>=</span> <span class='st'>"knife_edge_gear"</span>, <span class='kw'>rfac</span> <span class='kw'>=</span> <span class='fl'>Inf</span>, <span class='kw'>perfect</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>no_sp</th>
      <td><p>The number of species in the model. The default value is 11.</p></td>
    </tr>
    <tr>
      <th>min_w_inf</th>
      <td><p>The asymptotic size of the smallest species in the
community. Default value is 10.</p></td>
    </tr>
    <tr>
      <th>max_w_inf</th>
      <td><p>The asymptotic size of the largest species in the community.
Default value is 1000.</p></td>
    </tr>
    <tr>
      <th>min_egg</th>
      <td><p>The size of the the egg of the smallest species. Default value
is 10^(-4).</p></td>
    </tr>
    <tr>
      <th>min_w_mat</th>
      <td><p>The maturity size of the smallest species. Default value is
10^(0.4),</p></td>
    </tr>
    <tr>
      <th>no_w</th>
      <td><p>The number of size bins in the community spectrum. Default value
is such that there are 100 bins for each factor of 10 in weight.</p></td>
    </tr>
    <tr>
      <th>min_w_pp</th>
      <td><p>Obsolete argument because the smallest plankton size is now
set so that it covers the entire range of the
feeding kernel of even the smallest fish larva.</p></td>
    </tr>
    <tr>
      <th>w_pp_cutoff</th>
      <td><p>The largest size of the plankton spectrum. Default
value is max_w_inf unless <code>perfect = TRUE</code> when it is Inf.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Scaling of the intake. Default value is 2/3.</p></td>
    </tr>
    <tr>
      <th>q</th>
      <td><p>Exponent of the search volume. Default value is 3/4 unless 
<code>lambda</code> is provided, in which case this argument is ignored and
q = lambda - 2 + n.</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>Exponent of the abundance power law. If supplied, this 
overrrules the <code>q</code> argument. Otherwise the default value is 2+q-n.</p></td>
    </tr>
    <tr>
      <th>r_pp</th>
      <td><p>Growth rate of the primary productivity. Default value is 0.1.</p></td>
    </tr>
    <tr>
      <th>kappa</th>
      <td><p>Coefficient in abundance power law. Default value is
0.005.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>The assimilation efficiency of the community. The default value
is 0.4.</p></td>
    </tr>
    <tr>
      <th>ks</th>
      <td><p>Standard metabolism coefficient. Default value is 4.</p></td>
    </tr>
    <tr>
      <th>h</th>
      <td><p>Maximum food intake rate. Default value is 30.</p></td>
    </tr>
    <tr>
      <th>beta</th>
      <td><p>Preferred predator prey mass ratio. Default value is 100.</p></td>
    </tr>
    <tr>
      <th>sigma</th>
      <td><p>Width of prey size preference. Default value is 1.3.</p></td>
    </tr>
    <tr>
      <th>f0</th>
      <td><p>Expected average feeding level. Used to set <code>gamma</code>, the
coefficient in the search rate. The default value is 0.6.</p></td>
    </tr>
    <tr>
      <th>knife_edge_size</th>
      <td><p>The minimum size at which the gear or gears select
species. Must be of length 1 or no_sp. Default value is 100.</p></td>
    </tr>
    <tr>
      <th>gear_names</th>
      <td><p>The names of the fishing gears. A character vector, the
same length as the knife_edge_size parameter. Default value is
"knife_edge_gear".</p></td>
    </tr>
    <tr>
      <th>rfac</th>
      <td><p>The factor such that Rmax = rfac * R, where Rmax is the maximum
recruitment allowed and R is the steady-state recruitment. Thus the larger
<code>rfac</code> the less the impact of the non-linear stock-recruitment curve.
The default is Inf.</p></td>
    </tr>
    <tr>
      <th>perfect</th>
      <td><p>Boolean. Default FALSE. If TRUE then parameters are set so
that the community abundance, growth before reproduction and death are
perfect power laws.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments to pass to the <code>MizerParams</code> constructor.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of type <code>MizerParams</code></p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The scale free trait-based model is similar to the standard trait-based
model, with three main differences:</p><ol>
<li><p>We have an exact equation for a steady state of this system which is
often stable, even when we include no extra stabilization effects like
density dependence or stock recruitment relationships.</p></li>
<li><p>The egg size is proportional to the maturity size for each species</p></li>
<li><p>The parameters are chosen so that R_0 (the expected number of offspring
produced by an individual over a lifetime) is close to 1 for each species.</p></li>
</ol>
    <p>The function has many arguments, all of which have default values. Of
particular interest to the user are the number of species in the model and
the minimum and maximum asymptotic sizes.</p>
<p>The characteristic weights of the different species are defined by
min_egg, min_w_mat, min_w_inf, max_w_inf and no_sp, in the sense that the egg
weights of the no_sp species are logarithmically evenly spaced, ranging from
min_w=min_egg to max_w=max_w_inf. The maturity weights of the species can be
obtained by muliplying the egg_weights by min_w_mat/min_egg. The asymptotic
weights of the species can be obtained by multiplying the egg weights by
min_w_inf/min_egg.</p>
<p>Although the scale free trait based model's default steady state is often
stable without imposing a stock recruitment relationship, the function can
set a Beverton-Holt type stock recruitment relationship that imposes a
maximal reproduction rate that is a multiple of the recruitment rate at
steady state. That multiple is set by the argument <code>rfac</code>.</p>
<p>In addition to setting up the parameters, this function also evaluates the
analytic expression for a steady state of the scale free trait-based model
and sets it as the initial condition.</p>
<p>The search rate coefficient <code>gamma</code> is calculated using the expected
feeding level, <code>f0</code>.</p>
<p>The option of including fishing is given, but the steady state may lose its
natural stability if too much fishing is included. In such a case the user
may wish to include stablizing effects (like Rmax and chi) to ensure the
steady state is stable. Fishing selectivity is modelled as a knife-edge
function with one parameter, <code>knife_edge_size</code>, which is the size at
which species are selected. Each species can either be fished by the same
gear (<code>knife_edge_size</code> has a length of 1) or by a different gear (the
length of <code>knife_edge_size</code> has the same length as the number of species
and the order of selectivity size is that of the asymptotic size).</p>
<p>The resulting <code>MizerParams</code> object can be projected forward using
<code><a href='project.html'>project()</a></code> like any other <code>MizerParams</code> object. When projecting
the model it may be necessary to reduce <code>dt</code> to 0.1 to avoid any
instabilities with the solver. You can check this by plotting the biomass or
abundance through time after the projection.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='MizerParams-class.html'>MizerParams</a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>s_params</span> <span class='kw'>&lt;-</span> <span class='fu'>set_scaling_model</span>()
<span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='project.html'>project</a></span>(<span class='no'>s_params</span>, <span class='kw'>t_max</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>effort</span> <span class='kw'>=</span> <span class='fl'>0</span>)
<span class='fu'><a href='plotSpectra.html'>plotSpectra</a></span>(<span class='no'>sim</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Finlay Scott, <a href='http://www.utas.edu.au/profiles/staff/imas/julia-blanchard'>Julia Blanchard</a>, <a href='https://ken.haste.dk/'>Ken Andersen</a>, <a href='https://www.york.ac.uk/maths/staff/gustav-delius/'>Gustav Delius</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'de91577b2f58755afaa137388a513a88',
    indexName: 'mizer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

