<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Construct MizerParams object for multispecies model — set_multispecies_model • mizer</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Construct MizerParams object for multispecies model — set_multispecies_model" />

<meta property="og:description" content="Sets up a multi-species size spectrum model by filling all slots in the
MizerParams object based on user-provided or default
parameters. It does this by creating an empty MizerParams object with
emptyParams and then filling the slots by passing its arguments
to setParams." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mizer.html">Get Started</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/publications.html">Publications</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/gustavdelius/mizer">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construct MizerParams object for multispecies model</h1>
    <small class="dont-index"><a href='https://github.com/gustavdelius/mizer/edit/master/R/multispecies_params.R'>Edit this page. &nbsp;</a> Source: <a href='https://github.com/gustavdelius/mizer/blob/master/R/multispecies_params.R'><code>R/multispecies_params.R</code></a></small>
    <div class="hidden name"><code>set_multispecies_model.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Sets up a multi-species size spectrum model by filling all slots in the
<a href='MizerParams-class.html'>MizerParams</a> object based on user-provided or default
parameters. It does this by creating an empty MizerParams object with
<code><a href='emptyParams.html'>emptyParams</a></code> and then filling the slots by passing its arguments
to <code><a href='setParams.html'>setParams</a></code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>set_multispecies_model</span>(<span class='no'>species_params</span>, <span class='kw'>interaction</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/matrix'>matrix</a></span>(<span class='fl'>1</span>, <span class='kw'>nrow</span> <span class='kw'>=</span>
  <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/nrow'>nrow</a></span>(<span class='no'>species_params</span>), <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/nrow'>nrow</a></span>(<span class='no'>species_params</span>)), <span class='kw'>no_w</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>min_w</span> <span class='kw'>=</span> <span class='fl'>0.001</span>, <span class='kw'>max_w</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>min_w_pp</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>no_w_pp</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>/<span class='fl'>3</span>, <span class='kw'>p</span> <span class='kw'>=</span> <span class='fl'>0.7</span>, <span class='kw'>q</span> <span class='kw'>=</span> <span class='fl'>0.8</span>, <span class='kw'>kappa</span> <span class='kw'>=</span> <span class='fl'>1e+11</span>, <span class='kw'>lambda</span> <span class='kw'>=</span> (<span class='fl'>2</span> + <span class='no'>q</span> - <span class='no'>n</span>),
  <span class='kw'>f0</span> <span class='kw'>=</span> <span class='fl'>0.6</span>, <span class='kw'>pred_kernel</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>pred_kernel_type</span> <span class='kw'>=</span> <span class='st'>"lognormal"</span>,
  <span class='kw'>store_kernel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>search_vol</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>intake_max</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>metab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>z0pre</span> <span class='kw'>=</span> <span class='fl'>0.6</span>, <span class='kw'>z0exp</span> <span class='kw'>=</span> <span class='no'>n</span> - <span class='fl'>1</span>, <span class='kw'>psi</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>r_pp</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>w_pp_cutoff</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>plankton_dynamics</span> <span class='kw'>=</span> <span class='no'>plankton_semichemostat</span>,
  <span class='kw'>resource_dynamics</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(), <span class='kw'>resource_params</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(), <span class='kw'>rho</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>srr</span> <span class='kw'>=</span> <span class='no'>srrBevertonHolt</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>species_params</th>
      <td><p>A data frame of species-specific parameter values.</p></td>
    </tr>
    <tr>
      <th>interaction</th>
      <td><p>Interaction matrix of the species (predator by prey).
Entries should be numbers between 0 and 1. See "Setting interactions"
section below.</p></td>
    </tr>
    <tr>
      <th>no_w</th>
      <td><p>The number of size bins in the consumer spectrum.</p></td>
    </tr>
    <tr>
      <th>min_w</th>
      <td><p>Sets the size of the eggs of all species for which this is not
given in the <code>w_min</code> column of the <code>species_params</code> dataframe.</p></td>
    </tr>
    <tr>
      <th>max_w</th>
      <td><p>The largest size of the consumer spectrum. By default this is
set to the largest w_inf specified in the species_params data frame.</p></td>
    </tr>
    <tr>
      <th>min_w_pp</th>
      <td><p>The smallest size of the plankton spectrum. By default this
is set to the smallest value at which any of the consumers can feed.</p></td>
    </tr>
    <tr>
      <th>no_w_pp</th>
      <td><p>Obsolete argument that is no longer used because the number
of plankton size bins is determined because all size bins have to
be logarithmically equally spaced.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Scaling exponent of the intake rate.</p></td>
    </tr>
    <tr>
      <th>p</th>
      <td><p>Scaling exponent of the standard metabolic rate.</p></td>
    </tr>
    <tr>
      <th>q</th>
      <td><p>Exponent of the allometric search volume. Only needed if 
<code>gamma</code> is not an array.</p></td>
    </tr>
    <tr>
      <th>kappa</th>
      <td><p>Carrying capacity of the plankton spectrum.</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>Exponent of the plankton spectrum.</p></td>
    </tr>
    <tr>
      <th>f0</th>
      <td><p>Average feeding level. Used to calculated <code>h</code> and <code>gamma</code>
if those are not columns in the species data frame. Also requires
<code>k_vb</code> (the von Bertalanffy K parameter) to be a column in the species
data frame. If <code>h</code> and <code>gamma</code> are supplied then this argument is
ignored. Default is 0.6.</p></td>
    </tr>
    <tr>
      <th>pred_kernel</th>
      <td><p>Optional. An array (species x predator size x prey size)
that holds the predation coefficient of each predator at size on each prey
size. The dimensions are thus no_sp, no_w, no_w_full.</p></td>
    </tr>
    <tr>
      <th>pred_kernel_type</th>
      <td><p>Only used if <code>pred_kernel</code> is not supplied. A
string or vector of strings that determines which predation kernel function
is used for each species. If not supplied, is taken from species parameter
dataframe if possible, or defaults to "lognormal".</p></td>
    </tr>
    <tr>
      <th>store_kernel</th>
      <td><p>Only used if <code>pred_kernel</code> is not supplied. A
boolean flag that determines whether the full three dimensional predation
kernel array is calculated and stored, even though it is not needed by
mizer. Only useful if you have your own code that relies on this array.
Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>metab</th>
      <td><p>Optional. An array (species x size) holding the metabolic rate
for each species at size. If not supplied, a default is set as described in
the section "Setting metabolic rate".</p></td>
    </tr>
    <tr>
      <th>z0pre</th>
      <td><p>If <code>z0</code>, the mortality from other sources, is not a column
in the species data frame, it is calculated as z0pre * w_inf ^ z0exp.
Default value is 0.6.</p></td>
    </tr>
    <tr>
      <th>z0exp</th>
      <td><p>If <code>z0</code>, the mortality from other sources, is not a column
in the species data frame, it is calculated as <code>z0pre * w_inf ^ z0exp</code>.
Default value is <code>n-1</code>.</p></td>
    </tr>
    <tr>
      <th>psi</th>
      <td><p>Optional. An array (species x size) that holds the allocation to
reproduction for each species at size. If not supplied, a default is set
as described in the section "Setting reproduction".</p></td>
    </tr>
    <tr>
      <th>r_pp</th>
      <td><p>Growth rate of the primary productivity. Default is 10 g/year.</p></td>
    </tr>
    <tr>
      <th>w_pp_cutoff</th>
      <td><p>The upper cut off size of the plankton spectrum. 
Default is 10 g.</p></td>
    </tr>
    <tr>
      <th>plankton_dynamics</th>
      <td><p>Function that determines plankton dynamics by
calculating the plankton spectrum at the next time step from the current
state. The default is <code>"<a href='plankton_semichemostat.html'>plankton_semichemostat</a>"</code>.</p></td>
    </tr>
    <tr>
      <th>resource_dynamics</th>
      <td><p>A named list of functions that determine the
dynamics of the unstructured resources by calculating their biomasses at
the next time step from the current state. See
<code><a href='resource_dynamics.html'>resource_dynamics</a></code> for details. An empty list if the model
does not have unstructured resources.</p></td>
    </tr>
    <tr>
      <th>resource_params</th>
      <td><p>A list of parameters needed by the
<code>resource_dynamics</code> functions. An empty list if no parameters are
needed.</p></td>
    </tr>
    <tr>
      <th>rho</th>
      <td><p>Either a 3-dim array (predator species x resource x predator size)
or a 2-dim array (predator species x resource). In the latter case the
size dependence is given by allometry.</p></td>
    </tr>
    <tr>
      <th>srr</th>
      <td><p>The stock recruitment function. Default is
<code><a href='srrBevertonHolt.html'>srrBevertonHolt</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of type <a href='MizerParams-class.html'>MizerParams</a></p>
    
    <h2 class="hasAnchor" id="species-parameters"><a class="anchor" href="#species-parameters"></a>Species parameters</h2>

    
    <p>The only essential argument is a data frame which contains the species data.
The data frame is arranged species by parameter, so each column of the
parameter data frame is a parameter and each row has the parameters for one
of the species in the model.</p>
<p>There are some essential columns that must be included in the species
parameter data.frame and that do not have default values. Other columns do
have default values, so that if they are not included in the species
parameter data frame, they will be automatically added when the
<code>MizerParams</code> object is created.</p>  
<p>The following table gives different components of a species parameters data.frame.
<table class='table'>
<tr><td>Column name</td><td>Description</td><td></td></tr>
<tr><td>species</td><td>Name of the species</td><td>Compulsory (no default)</td></tr>
<tr><td>w_inf</td><td>The asymptotic mass of the species</td><td>Compulsory</td></tr>
<tr><td>w_mat</td><td>The maturation mass of the species</td><td>Compulsory</td></tr>
<tr><td>beta</td><td>Preferred predator prey mass ratio</td><td>Compulsory</td></tr>
<tr><td>sigma</td><td>Width of prey size preference</td><td>Compulsory</td></tr>
<tr><td>h</td><td>Maximum food intake rate. If this is not provided, it is calculated using the k_vb column. Therefore, either h or k_vb must be provided.</td><td>Optional</td></tr>
<tr><td>k_vb</td><td>The von Bertalanffy K parameter. Only used to calculate h if that column is not provided</td><td>Optional</td></tr>
<tr><td>gamma</td><td>Volumetric search rate. If this is not provided, it is calculated using the h column and other parameters.</td><td>Optional</td></tr>
<tr><td>ks</td><td>Standard metabolism coefficient</td><td>h*0.2</td></tr>
<tr><td>z0</td><td>Background mortality (constant for all sizes). If this is not provided then z0 is calculated as z0pre ∗ w_inf^z0exp. Also z0pre and z0exp have default values of 0.6 and -1/3 respectively.</td><td>Optional (no default)</td></tr>
<tr><td>k</td><td>Activity coefficient</td><td>0</td></tr>
<tr><td>alpha</td><td>Assimilation efficiency</td><td>0.6</td></tr>
<tr><td>erepro</td><td>Reproductive efficiency</td><td>1</td></tr>
<tr><td>w_min</td><td>The size class that recruits are placed in.</td><td>smallest size class of the species size spectrum</td></tr>
</table></p>
    
    <h2 class="hasAnchor" id="setting-interactions"><a class="anchor" href="#setting-interactions"></a>Setting interactions</h2>

    
    <p>The species interaction matrix \(\theta_{ij}\) is used when calculating the food encounter rate in
<code><a href='getEncounter.html'>getEncounter</a></code> and the predation rate in
<code><a href='getPredRate.html'>getPredRate</a></code>. This function checks that the supplied interaction
matrix is valid and then stores it in the <code>interaction</code> slot of the params
object before returning that object.</p>
<p>Any dimnames of the interaction matrix argument are ignored by the
constructor. The dimnames of the interaction matrix in the returned
<code>MizerParams</code> object are taken from the species names in the
<code>species_params</code> slot. This means that the order of the columns and rows
of the interaction matrix argument should be the same as the species name in
the <code>species_params</code> slot.</p>
    
    <h2 class="hasAnchor" id="setting-predation-kernel"><a class="anchor" href="#setting-predation-kernel"></a>Setting predation kernel</h2>

    
    <h3>Kernel dependent on predator to prey size ratio</h3>
    If the <code>pred_kernel</code> argument is not supplied, then this function sets a
predation kernel that depends only on the ratio of predator mass to prey
mass, not on the two masses independently. The shape of that kernel is then
determined by the <code>pred_kernel_type</code> argument.
    The default pred_kernel_type is "lognormal". This will call the function
<code><a href='lognormal_pred_kernel.html'>lognormal_pred_kernel</a></code> to calculate the predation kernel and the
function <code><a href='lognormal_max_ppmr.html'>lognormal_max_ppmr</a></code> to return the maximal predator/prey
mass ratio for each species.
    An alternative pred_kernel type is "box", implemented by the functions
<code><a href='box_pred_kernel.html'>box_pred_kernel</a></code> and <code><a href='box_max_ppmr.html'>box_max_ppmr</a></code>.
    You can use any other string as the type. If for example you choose "my" then
you need to define a function <code>my_pred_kernel</code> that you can model on the
existing functions like <code><a href='lognormal_pred_kernel.html'>lognormal_pred_kernel</a></code>. You can also
define a function <code>my_max_ppmr</code> if you want the smallest plankton size
to be calculated automatically by <code>set_multispecies_model</code>,
otherwise you need to specify the <code>min_w_pp</code> argument explicitly.
    When using a kernel dependent on the predator/prey size ratio only, mizer
does not need to store the entire three dimensional array in the MizerParams
object. Such an array can be very big when there is a large number of size
bins. Instead mizer only needs to store two two-dimensional arrays that hold
Fourier transforms of the feeding kernel function that allow the encounter
rate and the predation rate to be calculated very efficiently. However mizer
gives you the option of storing the full three-dimensional array anyway by
setting <code>store_kernel = TRUE</code>. This might be useful if you have code for
analysing the results of a mizer simulation that relies on the full array.
    <h3>Kernel dependent on both predator and prey size</h3>
    If you want to work with a feeding kernel that depends on predator mass and
prey mass independently, you can specify the full feeding kernel as a
three-dimensional array (predator species x predator size x prey size).
    You should use this option only if a kernel dependent only on the
predator/prey mass ratio is not appropriate. Using a kernel dependent on
predator/prey mass ratio only allows mizer to use fast Fourier transform
methods to significantly reduce the running time of simulations.
    The order of the predator species in <code>pred_kernel</code> should be the same
as the order in the species params dataframe. If you supply a named array
then the function will check the order and warn if it is different.
    
    <h2 class="hasAnchor" id="setting-search-volume"><a class="anchor" href="#setting-search-volume"></a>Setting search volume</h2>

    
    <p>The search volume \(\gamma_i(w)\) of an individual of species \(i\)
and weight \(w\) multiplies the predation kernel when
calculating the encounter rate and the predation rate.</p>
<p>If the <code>gamma</code> argument is not supplied, then it is set to
$$\gamma_i(w) = \gamma_i w^q.$$ The values of \(gamma_i\) are taken from
the <code>gamma</code> column in the species parameter dataframe. If the <code>gamma</code>
column is not supplied in the species parameter dataframe, it is calculated
from <code>f0, h, beta, sigma, lambda</code> and <code>kappa</code>.</p>
    
    <h2 class="hasAnchor" id="setting-maximum-intake-rate"><a class="anchor" href="#setting-maximum-intake-rate"></a>Setting maximum intake rate</h2>

    
    <p>The maximum intake rate \(h_i(w)\) of an individual of species \(i\) and
weight \(w\) determines the feeding level, calculated with
<code><a href='getFeedingLevel.html'>getFeedingLevel</a></code>.</p>
<p>If the <code>h</code> argument is not supplied, then it is set to $$h_i(w) =
h_i w^n.$$ The values of \(h_i\) are taken from the <code>h</code> column in the
species parameter dataframe. If the <code>h</code> column is not supplied in the
species parameter dataframe, it is calculated from <code>f0</code> and the
<code>k_vb</code> column, if they are supplied.</p>
<p>If \(h_i\) is set to <code>Inf</code>, fish will consume all encountered food.</p>
    
    <h2 class="hasAnchor" id="setting-metabolic-rate"><a class="anchor" href="#setting-metabolic-rate"></a>Setting metabolic rate</h2>

    
    <p>To be documented</p>
    
    <h2 class="hasAnchor" id="setting-background-mortality-rate"><a class="anchor" href="#setting-background-mortality-rate"></a>Setting background mortality rate</h2>

    
    <p>Still need to document</p>
    
    <h2 class="hasAnchor" id="setting-reproduction"><a class="anchor" href="#setting-reproduction"></a>Setting reproduction</h2>

    
    <p>If the <code>psi</code> argument is not supplied,
the proportion is set to the product of a sigmoidal maturity ogive that 
gives the proportion of individuals of a given species and size that are
mature, and a factor that describes how investment into reproduction by mature
individuals scales with size. In formulas:
$$\psi(w) = \left[1+\left(\frac{w}{w_{mat}}\right)^{-U}\right]^{-1}
  \left(\frac{w}{w_{inf}}\right)^{m-n}.$$
Here \(n\) is the scaling exponent of the energy income rate.
The exponent \(m\) determines the scaling of the investment into
reproduction for mature individuals. By default it is chosen to be \(m =
1\) so that the rate at which energy is invested into reproduction scales
linearly with the size. This default can be overridden by including a column
<code>m</code> in the species parameter dataframe.</p>
<p>The exponent \(U\) determines the steepness of the maturity ogive. By default it is
chosen as \(U = 10\), however this can be overridden by including a 
column <code>w_mat25</code> in the species parameter dataframe that specifies the weight
at which 25% of individuals are mature, which sets 
$$U = \frac{\log(3)}{\log(w_{mat} / w_{25})}$$</p>
    
    <h2 class="hasAnchor" id="setting-plankton-dynamics"><a class="anchor" href="#setting-plankton-dynamics"></a>Setting plankton dynamics</h2>

    
    <p>Still need to document</p>
    
    <h2 class="hasAnchor" id="setting-resource-dynamics"><a class="anchor" href="#setting-resource-dynamics"></a>Setting resource dynamics</h2>

    
    <p>Still need to document</p>
    
    <h2 class="hasAnchor" id="setting-resource-encounter-rate"><a class="anchor" href="#setting-resource-encounter-rate"></a>Setting resource encounter rate</h2>

    
    <p>The resource encounter rate \(\rho_{id}(w)\) determines the rate at which
an individual of species \(i\) encounters biomass of resource \(d\),
$$\sum_d\rho_{id}(w) B_d,$$ where \(B_d\) is the biomass of the d-th
unstructured resource component. 
See <code><a href='resource_dynamics.html'>resource_dynamics</a></code> for more details.</p>
<p>If only a two-dimensional array (species x resource) is given for the
<code>rho</code> argument, then the size dependence is set to a power-law:
$$\rho_{id}(w) = \rho_{id} w^n.$$</p>
<p>The ordering of the entries in the array <code>rho</code> is important. The order
of the species in the first array dimension needs to be the same as that in
the species parameter dataframe. The order of the resources in the second
array dimension must be the same as in the list of resource dynamics. The
third dimension, if given, is the size dimension.</p>
    
    <h2 class="hasAnchor" id="setting-fishing"><a class="anchor" href="#setting-fishing"></a>Setting fishing</h2>

    
    <p>Needs to be documented</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='project.html'>project</a></code> <a href='MizerSim-class.html'>MizerSim</a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>NS_species_params_gears</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>inter</span>)
<span class='no'>params</span> <span class='kw'>&lt;-</span> <span class='fu'>set_multispecies_model</span>(<span class='no'>NS_species_params_gears</span>, <span class='no'>inter</span>)</div><div class='output co'>#&gt; <span class='message'>Note: No interaction_p column in species data frame so assuming all species feed on plankton.</span></div><div class='output co'>#&gt; <span class='message'>Note: No sel_func column in species data frame. Setting selectivity to be 'knife_edge' for all species.</span></div><div class='output co'>#&gt; <span class='message'>Note: No knife_edge_size column in species data frame. Setting knife edge selectivity equal to w_mat.</span></div><div class='output co'>#&gt; <span class='message'>Note: No h provided for some species, so using f0 and k_vb to calculate it.</span></div><div class='output co'>#&gt; <span class='message'>Note: No ks column in species data frame so using ks = h * 0.2.</span></div><div class='output co'>#&gt; <span class='message'>Note: Using z0 = z0pre * w_inf ^ z0exp for missing z0 values.</span></div><div class='output co'>#&gt; <span class='message'>Note: No gamma provided for some species, so using f0, h, beta, sigma, lambda and kappa to calculate it.</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#species-parameters">Species parameters</a></li>

      <li><a href="#setting-interactions">Setting interactions</a></li>

      <li><a href="#setting-predation-kernel">Setting predation kernel</a></li>

      <li><a href="#setting-search-volume">Setting search volume</a></li>

      <li><a href="#setting-maximum-intake-rate">Setting maximum intake rate</a></li>

      <li><a href="#setting-metabolic-rate">Setting metabolic rate</a></li>

      <li><a href="#setting-background-mortality-rate">Setting background mortality rate</a></li>

      <li><a href="#setting-reproduction">Setting reproduction</a></li>

      <li><a href="#setting-plankton-dynamics">Setting plankton dynamics</a></li>

      <li><a href="#setting-resource-dynamics">Setting resource dynamics</a></li>

      <li><a href="#setting-resource-encounter-rate">Setting resource encounter rate</a></li>

      <li><a href="#setting-fishing">Setting fishing</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Finlay Scott, Julia Blanchard, Ken Andersen, Gustav Delius.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'de91577b2f58755afaa137388a513a88',
    indexName: 'mizer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

